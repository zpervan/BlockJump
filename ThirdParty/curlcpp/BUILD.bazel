load("@rules_cc//cc:defs.bzl", "cc_library")

package(default_visibility = ["//visibility:public"])

cc_library(
    name = "curl",
    srcs = select({
        "@platforms//os:linux": glob(["backends/curl-7.87.0/lib/*.so*"]),
        "@platforms//os:windows": glob(["backends/curl-7.87.0/lib/*.dll"]),
    }),
    hdrs = glob(["backends/curl-7.87.0/include/curl/*.h"]),
    includes = ["backends/curl-7.87.0/include"],
)

cc_library(
    name = "curlcpp",
    srcs = glob(["src/*"]),
    hdrs = glob(["include/*"]),
    includes = ["include"],
    deps = [":curl"],
)
